<!DOCTYPE html>
<html lang="ro">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Statistici</title>
  <link rel="stylesheet" href="../lists/lists.css" />
  <link rel="stylesheet" href="./stats.css" />
  <link rel="stylesheet" href="../public/css/nav.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    body {
      background-image: url("../public/poze/main.png");
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
      background-attachment: fixed;
    }
  </style>
</head>

<body>
  <header>
    <nav>
      <div class="container">
        <h1>DrO</h1>
        <div class="menu">
          <a href="../home/index.html">Acasa</a>
          <a href="../lists/index.html">Liste</a>
          <a href="../groups/index.html">Grupuri</a>
          <a href="#" class="is-active">Statistici</a>
          <a href="/rss"><i class="fa-solid fa-rss"></i></a>
          <a href="../about/index.html"><i class="fa-solid fa-circle-info"></i></a>
          <a href="../help/index.html"><i class="fa-solid fa-circle-question"></i></a>
          <a href="../login/index.html" id="login-link">Login</a>
        </div>
        <button class="hamburger">
          <span></span><span></span><span></span>
        </button>
      </div>
    </nav>
  </header>

  <div class="catalog">
    <!-- Sidebar -->
    <aside class="sidebar">
      <h2 class="filter-title">BÄƒuturi selectate</h2>
      <div id="selected-drinks-list"></div>
    </aside>

    <!-- Main stats section -->
    <div class="charts-section">
      <!-- Pie chart buttons -->
      <div class="stat-actions">
        <button class="stat-btn" onclick="downloadJSON()">Download as JSON</button>
        <button class="stat-btn" onclick="downloadCSV()">Download as CSV</button>
      </div>

      <!-- Pie charts -->
      <div class="chart-container">
        <div class="svg-wrapper">
          <h3>Quantity</h3>
          <div id="quantity-chart"></div>
          <div class="download-container">
            <div class="download-wrapper" onclick="downloadSVG('quantity-chart', 'quantity-chart.svg')">
              <i class="fa-solid fa-download download-svg"></i>
            </div>
          </div>
        </div>
        <div class="svg-wrapper">
          <h3>Nutrition Grade</h3>
          <div id="nutrition-chart"></div>
          <div class="download-container">
            <div class="download-wrapper" onclick="downloadSVG('nutrition-chart', 'nutrition-chart.svg')">
              <i class="fa-solid fa-download download-svg"></i>
            </div>
          </div>
        </div>
      </div>

      <!-- Tag chart -->
      <section>
        <h2 style="color: white; margin-bottom: 1rem;">Tag Statistics</h2>
        <div class="tag-section">
          <div class="tag-filter">
            <form id="tag-form"></form>
          </div>
          <div class="tag-graph">
            <div class="bar-chart-wrapper">
              <div id="tag-bar-chart"></div>
              <div class="download-wrapper download-below" onclick="downloadSVG('tag-bar-chart', 'tags-bar-chart.svg')">
                <i class="fa-solid fa-download download-svg"></i>
              </div>
            </div>
          </div>
        </div>
    </div>
    </section>
  </div>

  <script src="../public/config.js"></script>
  <script src="stats.js"></script>
</body>

</html>